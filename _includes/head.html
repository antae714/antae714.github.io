<style>
	[id] {
		scroll-margin-top: 110px; /* 스티키 헤더가 80px 높이라면 */
	}

	.subtitle-list {
		margin: 16px 0;
		padding-left: 20px; /* 번호 들여쓰기 조절 */
		margin-left: 20px; /* 들여쓰기 */
		font-size: 1.1em;
	}

		.subtitle-list li {
			margin-bottom: 8px;
		}

	.Link {
		color: blue;
		text-decoration: none;
	}

	.Paragraph {
		margin: 0 0 0 0;
		padding: 0 0 80px 0;
		border-bottom: 2px solid #ccc; /* 아래쪽 구분선 */
	}

	.card-container {
		display: flex;
		flex-wrap: wrap;
		gap: 20px;
		background: white;
		justify-content: center;
		width: 100%;
		/* 최대 높이를 제한하여 스크롤 가능하게 */
		max-height: 110vh;
		overflow-y: auto;
		padding: 10px 0 35px 0;
	}

	.card {
		display: flex;
		width: 31%;
		aspect-ratio: 1.618 / 1;
		border: 2px solid #ccc;
		border-radius: 12px;
		overflow: hidden;
		box-shadow: 0 10px 10px rgba(0, 0, 0, 0.3); /* 기본 그림자 약간 약하게 */
		font-family: sans-serif;
		text-decoration: none;
		color: inherit;
		transition: transform 0.3s ease;
		font-size: 100%;
	}

	/* 화면 너비가 1024px 이하일 때 */
	@media (max-width: 1024px) {
		.card {
			width: 48%;
			font-size: 130%;
		}
	}

	/* 화면 너비가 768px 이하일 때 */
	@media (max-width: 768px) {
		.card {
			width: 100%;
			font-size: 160%;
		}
	}

	.card:hover {
		transform: translateY(-10px);
		box-shadow: 0 20px 35px rgba(0, 0, 0, 0.5); /* 더 진하고 넓은 그림자 */
	}

	.card-image-wrapper {
		position: relative;
		flex: 1.618;
		height: auto;
		object-fit: cover;
		border: 1px solid #FAFAFA;
		image-rendering: auto;
	}

	.card-image {
		width: 100%;
		height: 100%;
		position: absolute;
		margin: 0 0 0 0;
		padding: 0 0 0 0;
	}

	.default-image {
		z-index: 1;
		opacity: 1;
	}

	.hover-image {
		z-index: 2;
		opacity: 0;
	}

	.card:hover .hover-image {
		opacity: 1;
	}

	.card:hover .default-image {
		opacity: 0;
	}

	.card-text {
		display: flex;
		flex-direction: column;
		flex: 1;
		box-sizing: border-box;
		height: 100%;
	}

	.card-text-Title {
		flex: 1;
		background-color: #FAFAFF;
		font-weight: bold;
		padding: 10px;
		margin: 0 0 0 0;
		font-size: 0.85em;
		color: #000;
		line-height: 1.2; /* 줄 간격 최소화 */
		display: flex;
		box-sizing: border-box;
	}

	.card-text-Content {
		flex: 1.85;
		background-color: #F0F0FF;
		padding: 10px;
		margin: 0 0 0 0;
		font-size: 0.7em;
		color: #666;
		box-sizing: border-box;
	}

	.post-list-container {
		display: flex;
		flex-direction: column;
		flex-wrap: wrap;
		gap: 20px;
		background: white;
	}

	.post-list-element {
		height: 250px;
		border-bottom: 2px solid #ccc; /* 아래쪽 구분선 */
	}

	.post-list-image {
		float: right;
		width: 250px;
		margin: 20px;
	}

	.popup-overlay {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		background: rgba(0, 0, 0, 0.4);
		display: none;
		justify-content: center;
		align-items: center;
		z-index: 1000;
		backdrop-filter: blur(4px);
		-webkit-backdrop-filter: blur(4px); /* 사파리 호환 */
	}

	.popup-content {
		background: white;
		width: 70vw;
		height: 90vh;
		border-radius: 8px;
		display: flex;
		flex-direction: column;
		overflow: hidden;
		position: relative;
	}

	.iframe-wrapper {
		flex: 1;
		position: relative;
	}

	.popup-buttons {
		position: absolute;
		top: 10px;
		right: 20px;
		z-index: 2;
		display: flex;
		gap: 0.5em;
	}

		.popup-buttons button {
			background: rgba(255, 255, 255, 0.9);
			border: 1px solid #ccc;
			border-radius: 4px;
			padding: 0.3em 0.5em;
			font-size: 1.1em;
			cursor: pointer;
			transition: background 0.2s;
		}

			.popup-buttons button:hover {
				background: #eee;
			}

	.popup-content iframe {
		width: 100%;
		height: 100%;
		border: none;
		display: block;
	}
</style>

<script>


	const params = new URLSearchParams(window.location.search);
	if (params.get("iframe") === "true") {
		const titleLink = document.querySelector('.TitleText');
		if (titleLink) {
			titleLink.style.pointerEvents = 'none';
			titleLink.style.textDecoration = 'none';
		}
	}

	function openPopup(element) {
		// 원래 포스트 URL을 가져온 뒤
		const rawUrl = element.getAttribute('data-url');
		// URL 객체로 만들고 query string에 iframe=true 추가
		const url = new URL(rawUrl, window.location.origin);
		url.searchParams.set('iframe', 'true');

		const popup = document.getElementById('popup');
		const iframe = document.getElementById('popup-iframe');

		iframe.src = url.toString();
		popup.style.display = 'flex';

		document.documentElement.style.overflow = 'hidden';

		const header = document.querySelector('.site-header');
		if (header) header.style.backgroundColor = 'rgba(255,255,255,0.7)';
	}

	function closePopup() {
		const popup = document.getElementById('popup');
		const iframe = document.getElementById('popup-iframe');

		popup.style.display = 'none';
		iframe.src = '';

		document.documentElement.style.overflow = '';

		const header = document.querySelector('.site-header');
		if (header) header.style.backgroundColor = '';
	}

	function expandPopup() {
		const iframe = document.getElementById('popup-iframe');
		if (iframe && iframe.src) {
			window.open(iframe.src, '_blank');
		}
	}

		// ESC 키로 팝업 닫기
	document.addEventListener('keydown', function (event) {
		if (event.key === 'Escape') {
			closePopup();
		}
	});
</script>